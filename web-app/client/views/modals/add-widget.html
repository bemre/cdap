<div class="modal-header">
    <h3 class="modal-title">Add New Widget</h3>
</div>
<div class="modal-body">
	<div class="alert alert-danger" ng-show="!!addWidgetError">{{ addWidgetError }}</div>
	<div class="row">
    	<div class="col-xs-12 form-group">
			<label class="control-label">New Widget Title:</label>
			<input type="text" class="form-control" placeholder="New Widget Title" ng-model="newWidgetSettings.title">
    	</div>
    </div>
    <div class="row">
        <div class="col-xs-12 form-group">
            <label class="control-label">Choose a component:</label>
            <select class="form-control" ng-model="newWidgetSettings.component" ng-change="componentSelected()">
                <optgroup ng-repeat="(key,set) in availableComponents" label="{{set.name}}">
                    <option ng-repeat="component in set.components" value="{{set.module}}.{{component.id}}">{{ component.name }}</option>
                </optgroup>
            </select>
        </div>
    </div>
    <div class="row" ng-show="!!requiresEndpoint">
        <div class="col-xs-12 form-group">
            <label class="control-label">Data/API Endpoint:</label>
            <input type="text" class="form-control" placeholder="Data/API Endpoint" ng-model="newWidgetSettings.endpoint">
        </div>
    </div>
    <div class="row">
    	<div class="col-xs-12 form-group">
    		<label class="control-label">Choose a location:</label>
            <p>Select which row &amp; column you'd like to initially add this new widget to by clicking on it below</p>
            <ul class="column-selector">
                <li ng-repeat="row in currentLayout.layout.rows track by $index">
                <div ng-class="{ 'column-option': true, 'format-{{ row.format }}': true, 'selected': ((newWidgetSettings.row == $parent.$index) && (newWidgetSettings.col == $index)) }" ng-repeat="col in row.cols" ng-click="setWidgetTarget($parent.$index, $index)"></div>
                </li>
            </ul>
    	</div>
    </div>
</div>
<div class="modal-footer">
    <button class="btn btn-primary" ng-click="add()">Add Widget</button>
    <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
</div>